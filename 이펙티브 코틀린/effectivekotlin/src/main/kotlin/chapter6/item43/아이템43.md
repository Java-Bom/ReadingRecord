# 43. API의 필수적이지 않는 부분을 확장 함수로 추출하라

클래스를 설계하다보면 메서드를 멤버로 정의할 지 확장함수로 따로 뺄지 고민하게 된다. 정답은 없으므로 두가지 방식의 장단점을 명확하게 파악하고 상황에 맞게 사용해야 한다.

- 확장 함수는 일반적으로 다른 패키지에 위치한다.
    - 직접 멤버를 추가할 수 없는 경우, 데이터와 행위(behavior)를 분리하도록 설계된 프로젝트에서 사용
- 같은 이름으로 다른 동작을 하는 확장함수가 있을 경우 위험할 수 있다.
- 멤버 메서드와 확장함수명이 같으면 멤버 메서드가 우선 순위를 갖는다.
- 확장 함수는 가상(virtual)함수가 아니다. 그러므로 파생 클래스에서 오버라이드 할 수 없다. 즉, 상속을 목적으로 설계된 요소는 확장함수로 만들면 안된다.
- 확장 함수는 클래스 위가 아니라 타입 위에 만들어지므로, 클래스 레퍼런스에서 멤버로 표시되지 않는다.

> 가상(virtual)함수: 런타임에 결정된 함수를 말한다. 그렇기 때문에 함수가 호출되기 전에 오버라이드 할 수 있으며 코틀린에서는 open 또는 abstract 키워드를 붙여 가상함수를 만들 수 있다.


